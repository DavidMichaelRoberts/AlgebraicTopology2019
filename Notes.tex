\documentclass{tufte-handout} 
\usepackage{amsmath,stmaryrd,amssymb,amsthm,url,booktabs,hyperref,enumerate}

% \usepackage{enumitem} \setlist[itemize]{noitemsep, topsep=0pt}

\makeatletter
% Paragraph indentation and separation for normal text
\renewcommand{\@tufte@reset@par}{% 
  \setlength{\RaggedRightParindent}{0pc}% 1.0pc 
  \setlength{\JustifyingParindent}{0pc}% 1.0pc 
  \setlength{\parindent}{0pc}% 1pc 
  \setlength{\parskip}{0pt}%
}
\@tufte@reset@par

\makeatother


\ifpdf 
	\usepackage[all,pdf]{xy} %% NB this MUST be loaded last.
\else
	\input xy 
	\xyoption{all} 
	\xyoption{2cell} 
	\xyoption{v2}
\fi 

\parskip = 10pt

\def\into {\hookrightarrow} 
\def\cE {\mathcal{E}} 
\def\cC {\mathcal{C}} 
\def\cR {\mathcal{R}} 
\def\cD {\mathcal{D}} 
\def\cP {\mathcal{P}} 
\def\cT {\mathcal{T}} 
\def\cN {\mathcal{N}}

\def\op {\mathrm{op}}
\def\pt {\mathrm{pt}}

\def\Set {\mathbf{Set}}
\def\Top {\mathbf{Top}}
\def\Ho {\mathbf{Ho}}
\def\lpcTop {\mathbf{lpcTop}}


\def\RR{\mathbb{R}} \def\NN{\mathbb{N}}

\newcommand{\lecturenum}[1]{\marginnote{\color{red}Lecture #1}}

\DeclareMathOperator*{\colim}{colim} 
\DeclareMathOperator{\Sh}{Sh} 
\DeclareMathOperator{\id}{id} 
\DeclareMathOperator{\Sub}{Sub} 
\DeclareMathOperator{\Aut}{Aut} 
\DeclareMathOperator{\Cont}{Cont}
\DeclareMathOperator{\im}{im}

\theoremstyle{definition} 
\newtheorem{prop}{Proposition} 
\newtheorem{lemma}{Lemma} 
\newtheorem{definition}{Definition} 
\newtheorem{example}{Example} 
\newtheorem{ex}{Exercise}
% \newtheorem{exercise}{Exercise} 
\newtheorem{theorem}{Theorem} 
\newtheorem{corollary}{Corollary} 
\newtheorem{q}{Question} 
\newtheorem*{conj}{Conjecture} 
\newtheorem*{rem}{Remark} 
\newtheorem*{fact}{Fact}

\title{Algebraic Topology\thanks{This document is released under a CC-By license: 
\href{https://creativecommons.org/licenses/by/4.0/}{\texttt{creativecommons.org/licenses/by/4.0/}}.}
}
\author[D.M.~Roberts]{David Michael Roberts} 
\date{2019} 

\begin{document} 

\maketitle

\lecturenum{1} \section{What is it?}

Algebraic topology is the study of maps 
\[
	\{\text{`Spaces'}\} \longrightarrow \{\text{Algebraic objects}\}
\] 
%
Or rather, `well-behaved' such maps---they should also send maps between spaces to 
algebraic maps, respecting composition (so: \emph{functors}); they should send spaces built 
out of smaller units to algebraic objects built out of smaller units, in a compatible way, 
etc.

Here, `Spaces' roughly means topological spaces up to deformation (usually homotopy, but not 
always). Such equivalence classes are called \emph{homotopy types}. `Algebraic objects': 
(abelian) groups, rings, modules, chain complexes ($\cdots \to V_0 \to V_1 \to V_2 \to 
\cdots$).

\begin{example} 
	How can we tell if the sphere $S^2$ and the torus $S^1\times S^1$ can or 
	cannot be deformed into each other? How would you prove it cannot be done? 
\end{example}

\begin{example} 
	For a positive example, we \emph{can} squash $\RR^3 \setminus \{0\} \to S^2 \into 
	\RR^3 \setminus \{0\} $, sending $x\mapsto \frac{x}{|x|}$. This map continuously 
	deforms to the identity map. So dimension not necessarily preserved.
\end{example}

\begin{example} 
	Can we have $S^1 \sim S^2$? 
\end{example} 

\noindent We first need to understand how spaces are built

\section{Topological spaces}

Recall\ldots\marginnote{From Topology and Analysis III}

\begin{definition} 
	A \emph{topology} on a set $S$ is a collection $\cT$ of subsets of $X$ 
	such that 
	\begin{enumerate} 
	
		\item $\emptyset,X\in\cT$ 
		
		\item If $U,V\in \cT$ then $U\cap V\in \cT$ \item If $U_\alpha\in \cT$, 
		$\alpha\in I$ is an arbitrary family, then $\bigcup_{\alpha\in I} U_\alpha 
		\in \cT$

	\end{enumerate}
 
	If $U\in \cT$ we say $U$ is \emph{open}. A \emph{topological space} is a set $X$ 
	eqipped with a topology $\cT$.
\end{definition}

\begin{example} 
	Take the set of real numbers, the \emph{Euclidean (`usual') topology} is 
	defined by saying a set is open iff it is a union of open intervals $(a,b)$ (including the 
	union of no sets ie $\emptyset$).\\ 
	The \emph{discrete topology} on a set $X$ is defined by 
	taking every $\cT$ to consist of all subsets. The \emph{indiscrete topology} is defined by 
	taking $\cT$ to consist of just $\emptyset$ and $X$. 
\end{example}

This definition is concise, but not always the best way to define a topology. We will also 
use \emph{neighbourhoods}

\begin{definition} 
	A set $N\subseteq X$ is a \emph{neighbourhood}\marginnote{`nhd' is a good 
	abbreviation} (in a given topology $\cT$) of a point $x\in X$ if there is an open 
	set $U\subseteq N$ with $x\in U$.
\end{definition}


\begin{example} 
	Take $\RR$ with the Euclidean topology. $(-1,1)$, $[-1,1]$, $[-1,1)$ are all 
	neighbourhoods of every $-1<x<1$, but $[0,1)$ is not a neighbourhood of $0$. More 
	complicated: $[0,1] \cup \{2\}\cup [5,6]$ is a nhd of all $0<x<1$ and $5<x<6$.
\end{example}

\begin{example} 	
	Consider a metric space $(X,d)$. The \emph{metric topology} is defined by saying a 
	subset $U\subseteq X$ is open iff for every $x\in U$ there is some $\varepsilon_x > 
	0$ with the open ball $B(x,\varepsilon_x) \subseteq U$. Open balls around $x$ are 
	neighbouhoods of $x$, as are closed balls.
\end{example}

Here is a more concrete approach that allows concise definitions of topologies:

\begin{definition} 
	A \emph{neighbourhood base} $\cN$ on a set $X$ is a family 
	$\{\cN(x)\}_{x\in X}$ where each $\cN(x)$ is a nonempty collection of subsets of $X$, 
	satisfying the following, for all $x\in X$: 

	\begin{enumerate} 

	\item For all $N\in \cN(x)$, $x\in N$;
 
	\item For all $N_1,N_2 \in \cN(x)$, there is some $N\in \cN(x)$ with $N\subseteq N_1 
	\cap N_2$;

	\item For all $N\in \cN(x)$ there is a subset $U\subseteq N$ such that for 
	all $y\in U$, there is some $V \in \cN(y)$ such that $V\subseteq U$. 

	\end{enumerate} 

	We say the sets in $\cN(x)$ are \emph{basic neighbourhoods} of $x$. 
\end{definition}

As an example: given a topological space $(X,\cT)$ defining $\cN(x)$ to consist of all nhds 
of $x$ gives a nhd base. Similarly, defining $\cN'(x)$ to consist of all open sets 
containing $x$ defines a nhd base.


Given a neighbourhood base $\cN$ on a set $X$, define a subset $U\subseteq X$ to be 
\emph{$\cN$-open} iff for all $x\in U$, there is an $N\in \cN(x)$ with $N\subseteq U$.

\begin{prop} 
The $\cN$-open sets define a topology on $X$. 
\end{prop} 

\begin{proof} 
We verify the axioms for a topology on $X$. 

\begin{enumerate}

\item The condition that $\emptyset$ is $\cN$-open is vacuously true. And since $\cN(x)$ is 
not empty, there is a basic nhd around every point, so $X$ is $\cN$-open.

\item Given $U,V$ both $\cN$-open, we want to show $U\cap V$ is $\cN$-open. So take $x\in 
U\cap V$. We know there is $N_U,N_V \in \cN(x)$ with $N_U \subseteq U$ and $N_V \subseteq 
V$, and also that $x\in N_U \cap N_V$, since it is in each of them. Thus there is some $N\in 
\cN(x)$ with $N \subseteq N_U \cap N_V \subseteq U\cap V$, and this is true for all $x\in 
U\cap V$. Hence $U\cap V$ is $\cN$-open.

\item Given a family $U_\alpha$, $\alpha\in I$, with each $U_\alpha$ $\cN$-open, we want to 
show $U := \bigcup_{\alpha\in I}U_\alpha$ is $\cN$-open. Take $x\in U$, so there is some 
$\alpha_0$ with $x\in U_{\alpha_0}$. But this set in $\cN$-open, so there is some nhd $N$ of 
$x$ with $N\subseteq U_{\alpha_0} \subseteq U$, and this is true for all $x\in U$. So $U$ is 
$\cN$-open. \qedhere

\end{enumerate} 
\end{proof}

We call the topology from this proposition the topology generated by $\cN$. Neighbourhoods 
in this topology are sets that contain a basic neighbourhood: $V$ is a neighbourhood of $x$ 
if there is some $N\in \cN(x)$ with $N\subseteq V$.

Given a neighbourhood base $\cN$ on $X$, we can identify the \emph{closure} of a set 
$S \subset X$ as the collection of points $x\in X$ such that for all $N\in \cN(x)$, 
$\exists s\in N\cap S$.


\begin{example} 
Given a metric space $(X,d)$ the open balls form a nhd base on $X$ and the 
topology they generate is the metric topology. 
\end{example}



Hence many definitions you are familiar with from metric spaces work for topological spaces, if 
they can be phrased in terms of basic nhds. In particular, continuity!

\begin{definition} 
Let $\cN_X$ and $\cN_Y$ be neibourhood bases on sets $X$ and $Y$ 
respectively. A function $f\colon X\to Y$ is \emph{continuous} if for every $x\in X$ and 
$N\in \cN_Y(f(x))$, the set $f^{-1}(N)$ contains a basic nhd of $x$. 
\end{definition}

This is a big generalisation of the $\varepsilon$-$\delta$ definition of continuity.

\begin{ex} 
Show\marginnote{Recall a function is continuous for topologies if 
$f^{-1}(U)$ is open for all open $U$.} that if $f\colon (X,\cN_X)\to (Y,\cN_Y)$ is 
continuous as just defined, it is continuous for the topologies generated on $X$ and $Y$ by 
these nhd bases. 
\end{ex}

As a sanity check,\marginnote{You can check every function \emph{to} an indiscrete space 
is continuous, as is every function \emph{on} a discrete space} the identity function 
$\id_X$ on a space $X$ is indeed continuous.

\begin{definition}
A continuous function $f\colon X\to Y$ is a \emph{homeomorphism} if there is a continuous 
function $g\colon Y\to X$ with $g\circ f = \id_X$ and $g\circ f = \id_Y$. 
We then call $X$ and $Y$ \emph{homeomorphic}\marginnote{or just isomorphic, if I'm being lazy}
 if there is a homeomorphism between them.
\end{definition}


Now we need to show how to build new spaces, and continuous maps relating them to the 
original spaces.

\begin{definition} 
Let $X$ be a set, $(Y_\alpha,\cN_\alpha)$, $\alpha \in I$ a family of 
sets with nhd bases (not necessarily all unique), and $f_\alpha\colon X\to Y_\alpha$ a 
family of functions. The \emph{initial topology} on $X$ is generated by the following nhd 
base: a subset of $X$ is a basic nhd of $x$ iff\marginnote{Exercise: verify this is a nhd base!} 
 it is of the form $f_{\alpha_1}^{-1}(N_1) \cap \ldots \cap f_{\alpha_k}^{-1}(N_k)$ for 
some $\alpha_1,\ldots,\alpha_k$ and $N_i \in \cN_{\alpha_i}(f_{\alpha_i}(x))$. 
\end{definition}

This generalises the product topology, which is the case that $X = Y_1 \times Y_2$, and 
$f_i\colon X\to Y_i$ is the projection $f_i(y_1,y_2) = y_i$, where $i=1,2$. But this 
\emph{also} gives the subspace topology: take $f\colon X\into Y$ to be injective and define 
the initial topology on $X$.

\begin{lemma} 
Giving $X$ the initial topology, all the functions $f_\alpha\colon X\to 
Y_\alpha$ are continuous. Moreover, a function $k\colon Z\to X$ is continuous iff 
$f_\alpha\circ k\colon Z\to Y_\alpha$ is continuous for every $\alpha$. 
\end{lemma}

\noindent The following will be even more important for us, and will be new to most.

\begin{definition} 
Let $X$ be a set, $(Z_\beta,\cN_\beta)$, $\beta \in J$ a family of topological spaces 
(not necessarily all unique), and $g_\beta\colon Z_\beta\to X$ a family of 
functions (note the other direction!). The \emph{final topology} on $X$ has open sets as 
following: $U\subset X$ is open iff for all $\beta\in J$, $g_\beta^{-1}(U)$ is open in 
$Z_\beta$. 
\end{definition}

\begin{lemma} 
Giving $X$ the final topology, all the functions $g_\beta\colon Z_\beta\to X$ 
are continuous. Moreover a function $h\colon X\to W$ is continuous for the final topology on 
$X$ iff $h\circ g_\beta\colon Z_\beta\to W$ is continous for every $\beta\in J$. 
\end{lemma}

We will give two special cases of this, and we will see them often.

\begin{example} 
Let $(Z,\cT)$ be a topological space, and let $\sim$ be an equivalence 
relation on $Y$, and define $X = Z/\!\sim$ to be the quotient by this relation. There is a 
function $ \pi\colon Z\to X$ sending $y\mapsto [y]$. The final topology on $X$ has as open 
sets those $U\subseteq X$ such that $\pi^{-1}(U)$ is open in $Z$. 
\end{example}

For instance, we can give $S^2$ the initial topology for the maps $x,y\colon S^2 \to \RR^2 
\to \RR$ (this is the usual topology on $S^2$), and then define an equivalence relation on 
$S^2$ by $x\sim y$ iff $x = - y$. The quotient is $\mathbb{RP}^2$, the real projective 
plane, and we give it the final topology coming from $S^2\to \mathbb{RP}^2$. This is the 
topology it carries as a manifold. Incidentally, $S^2$ is an example of a \emph{covering 
space} of $\mathbb{RP}^2$, the study of which will occupy the first section of the course.


Recall \lecturenum{2} the definition of disjoint union of sets: given $Z_\beta$, 
 $\beta\in J$, a family of sets, we have $\mathrm{in}_\gamma \colon Z_\gamma \into 
 \bigsqcup_{\beta} Z_\beta$ with $Z_\beta \cap Z_\gamma = \emptyset$ for $\beta\neq \gamma$. 
 If $Z_\beta$ are spaces, then we give $\bigsqcup_{\beta} Z_\beta$ the final topology for 
 the maps $\mathrm{in}_\gamma$. This is \emph{disjoint union} or \emph{sum} topology,\marginnote{%
an important fact is that the map $ \bigsqcup_\beta X\times Z_\beta \to X\times \bigsqcup_\beta Z_\beta$ 
is a homeomorphism (exercise!)} and 
 $\bigsqcup_{\beta} Z_\beta$ is called the \emph{topological sum}. A point in $ 
 \bigsqcup_{\beta} Z_\beta$ can be described by a pair $(\beta,z)$, where $z \in Z_\beta$.

\begin{ex} 
Given functions $h_\beta\colon Z_\beta \to W$, there is a unique function $h = 
\langle h_\beta \rangle \colon \bigsqcup_\beta Z_\beta\to W$ with $h_\beta = h\circ 
\mathrm{in}_\beta$, or in other words this diagram commutes: 
\[
	\xymatrix{ 
		Z_\gamma \ar[r]^{\mathrm{in}_\gamma} \ar[dr]_{h_\gamma} & \bigsqcup_\beta 
		Z_\beta \ar[d]^h \\ & W
	}
\] 
\end{ex}

\begin{lemma} 
The final topology on $X$ for $g_\beta\colon Z_\beta \to X$ agrees with the 
final topology on $X$ for $g = \langle g_\beta \rangle\colon \bigsqcup_\beta Z_\beta \to X$, 
using the sum topology. 
\end{lemma}

\begin{proof} 
We have that $U\subseteq X$ is open iff $\forall \beta$ $g_\beta^{-1}(U)$ is 
open iff $\forall \beta$, $(g\circ \mathrm{in}_\beta)^{-1}(U) = 
\mathrm{in}_\beta^{-1}\left(g^{-1}(U)\right)$ is open iff $g^{-1}(U)$ is open in the sum 
topology. 
\end{proof}

The idea the behind final topology, when $g_\beta\colon Z_\beta \to X$ are jointly 
surjective,\marginnote{%
this means $\forall x\in X$, $\exists \beta, x\in Z_\beta$ with 
$g_\beta(z) = x$} 
is that we can put an equivalence relation on $\bigsqcup_\beta Z_\beta$ 
with $(\beta_1,z_1)\sim (\beta_2,z_2)$ iff $g_{\beta_1}(z_1) = g_{\beta_2}(z_2)\in X$. As a 
set, $X$ is the set of equivalence classes under this relation, so you can think of it as 
gluing together the \emph{underlying sets} of the spaces $Z_\beta$. The final topology on $X$ is 
then the only sensible topology to described the space we get by gluing together the 
\emph{spaces} $Z_\beta$. 

\begin{ex}

	Given an open cover $\{U_\alpha\}$ of a space $X$, then $X$ carries the final topology for 
	the inclusion maps $U_\alpha \into X$, or equivalently for the map $\bigsqcup_\alpha U_\alpha\to X$.

\end{ex}

\begin{ex}\label{ex:closed_cover_gluing_lemma}

	Given a \emph{finite} closed cover $\{V_i\}_{i=1}^n$ of $X$, then $X$ carries the final 
	topology for $\bigsqcup_{i=1}^n V_i \to X$.

\end{ex}




Later we'll see spaces that are built up by gluing together lots 
of `simple' spaces, like disks $D^n := \{x\in \RR^n\mod |x|\leq 1\}$ (with the subspace 
topology from $\RR^n$). But what does `simple' here mean? Roughly, ``shrinkable to a 
point''.

\section{Homotopy}

``Shrinkable'' implies a kind of continuous process in time. Consider the function $I\times D^n \to D^n$. Consider the map
\begin{align*}
	H\colon I \times D^n & \to D^n\\
	(t,\mathbf{x}) & \mapsto (1-t)\mathbf{x}
\end{align*}
Note that this gives maps $H_0\colon D^n\to D^n$ (the identity map) and $H_1$ (constant at $0$).
The function $H$ is continuous! 
How should we see this? 
The topology on $D^n$ is the subspace topology $D^n \subset \RR^n$,\marginnote{And $I\subset \RR$ has subspace topology}  and $\RR^n$ has the product topology. 
It is not too difficult to see (Exercise!) that the topology on $D^n$ is the final topology for the coordinate functions $x_i\colon D^n \to \RR^n \to \RR$. 
So $H\colon I\times D^n \to D^n$ is continuous iff
\[
	\xymatrix@R=0.5pc{
	I\times D^n \ar[r]^{\id\times x_i} & I\times \RR \ar[r]& \RR\times\RR \ar[r]& \RR\\
	(t,\mathbf{x}) \ar@{|->}[rr] && (t,x_i) \ar@{|->}[r] & tx_i 
	}
\]
But $I\times D^n \to \RR \times \RR$ is continuous by definition of final topology, and the following result:

\begin{ex}
	If $f\colon X\to W$ and $g\colon X\to Z$ are continuous, then so is $f\times g\colon X\times Y\to W\times Z$. 
	If both $X$ and $Y$ have at least one point each, then the reverse implication also holds.
\end{ex}

So if we can prove that multiplication $\RR\times \RR \to \RR$ is continuous, then $H$ is continuous.
But the standard topology on $\RR$ comes from the metric space structure, so can use sequential criterion for continuity.
Take $(a_n,b_n)\to (a,b)$ in $\RR\times \RR$, then:
\begin{align*}
	|a_nb_n - ab| 	& = |a_nb_n -ab_n + ab_n - ab| \\
			& \leq |a_n - a|\,|b_n| + |a|\,|b_n - b| \\
			& \leq |a_n-a| \sup|b_n| + |a| \, |b_n - b|\qquad\text{(as $(b_n)$ converges, it is bounded)} \\
			& \to 0+0  
\end{align*}
Hence $H$ is continuous.

\begin{definition}
	A space $X$ is \emph{contractible} if there is a point $x_0\in X$ and a continuous function $H\colon I\times X\to X$ such that $H(0,x) = x$ and $H(1,x) = x_0$ for all $x\in X$. 
Such a function is called a \emph{contraction}.
\end{definition}

We have shown $D^n$ is contractible.

\begin{ex}
$\RR$ is contractible. A finite product of contractible spaces is contractible.
\end{ex}

\begin{example}
Consider what it would mean if a discrete space $S$ were contractible: there would be an element $*\in S$ and a continuous function $h\colon I\times S \to S$ such that $h(0,s) = s$ and $h(1,s) = *$. 
Restricting $h$ to $I\times \{s\}$ for some given $s$, we get a continuous function $I \into I\times S \to S$, whose range includes $*$ and $s$.
Since all functions with discrete domain are continuous, let us compose with the continuous function $\chi_{\{*\}}\colon S\to \RR$ that sends $*\mapsto 1$ and $s\mapsto 0$ for all $s\neq *$. 
So we have a continuous function $\widetilde{h}\colon I\to \RR$ with $\widetilde{h}(0)=0$ and range contained in $\{0,1\}$.
By the intermediate value theorem, we must have $\widetilde{h}(1) = \chi_{\{*\}}(h(1,s))= 0$, so that $h(1,s) = *$, and hence $s=*$ for all $s\in S$. 
Thus $S$ has exactly one element.
\end{example}

The interval can only map continuously to a discrete space if it is constant at some element, or equivalently, its image consists of a single point, and this property is important enough to have a name.

\begin{definition}
A space $X$ is \emph{connected}\marginnote{If you know the `usual' definition, this is equivalent to it} if every continuous map to a discrete space has image a single point.
\end{definition}

This is our first example of an invariant of spaces,\marginnote{%
Consider $\xymatrix@=1pc{X\ar[r]^\simeq \ar[d] & Z \ar[dl]\\ S}$ with $S$ discrete.
}
 namely whether they are connected or not: a connected space $X$ cannot be homeomorphic to a space $Z$ that is not connected. But, how can we tell non-connected spaces apart?

\begin{definition}
\begin{enumerate}

	\item For any space $X$, a subset $Y\subseteq X$ is a \emph{connected component} of $X$ if $Y$ is connected and the indicator function\marginnote{$1_Y(x) = 1$ for $x\in Y$, $0$ otherwise} $1_Y\colon X\to \{0,1\}$ is continuous.
	
	\item Put an equivalence relation on $X$ with $x_1\sim x_2$ iff $x_1$ and $x_2$ are both in a given connected component.
Then define $\pi_0(X) = X/\sim$, the \emph{set of connected components}. There is a continuous function $X\to \pi_0(X)$.

\end{enumerate}
\end{definition}

A connected space $X$ has $\pi_0(X) = *$, but now we can tell apart non-connected spaces.

\begin{lemma}
Every space can be written as $X = \bigsqcup_{\alpha\in\pi_0(X)} X_\alpha$, with $X_\alpha$ connected.
\end{lemma}

As a result, we need to try to understand \emph{connected} spaces, though we will still \emph{use} non-connected spaces.

Can we get more out of the idea of contractions? Given $H\colon I\times X\to X$, we have maps $H_i$ for $i=0,1$, namely $H_0 = \id_X$ and $H_1$ is constant at $x_0$. 
What if $H_0$ and $H_1$ were other sorts of continuous maps?
\medskip

\begin{example}\label{eg:annulus}
Consider the annulus $A(r,R) := \{x \in \mathbb{R}^2\mid r\leq |x| \leq R\}$, and the function $H(t,x) = ((1-t)r + tR)x/|x|$.
\end{example}

What if we considered general continuous maps $X\to Y$ instead of just $X\to X$?

\begin{definition}
	A \emph{homotopy} is a continuous function $H\colon I \times X\to Y$. 
	If $f = H(0,-)$ and $g = H(1,-)$, we say $H$ is a \emph{homotopy from $f$ to $g$}, and that $f$ and $g$ are \emph{homotopic}, written $f\sim g$.
\end{definition}

Example \ref{eg:annulus} gives a homotopy between the two `retraction' maps $A(r,R) \to 
A(r,R)$, mapping points to the inner and outer circles respectively.

Algebraic topology most of the time considers functions \emph{up to homotopy}, and also ``spaces up to homotopy''.

\begin{definition}
A continuous function $f\colon X\to Y$ is called a \emph{homotopy equivalence} if there is a continuous function $g\colon Y\to X$ such that $g\circ f\sim \id_X$ and $f\circ g\sim \id_Y$. We then say $X$ and $Y$ are \emph{homotopy equivalent}.
\end{definition}

\begin{example}
A contractible space is homotopy equivalent to a one-point space.
\end{example}

You should think of homotopy equivalences as being `kinda like isomorphism', but coarser.
Going back to our original motivation, the assignment
\[
	\{\text{`Spaces'}\} \longrightarrow \{\text{Algebraic objects}\}
\]
should take homotopy equivalent spaces to isomorphic algebraic objects. 
To make this more rigorous we will use the language of category theory.


\lecturenum{3}
%
Here is a super-important property of homotopies we will use continuously.

\begin{prop}
Given homotopies $H\colon I \times X \to Y$ and $H'\colon I \times X \to Y$ such that $H_1 = H'_0\colon X\to Y$, there is a homotopy $H''$ from $H_0$ to $H_1$, and a homotopy $\widetilde{H}$ from $H_1$ to $H_0$.
\end{prop}

\begin{proof}
We will use Exercise~\ref{ex:closed_cover_gluing_lemma} applied to the closed cover $\{[0,\frac12]\times X, [\frac12,1]\times X\}$ of $I\times X$. 
Since $I \simeq [0,\frac12]$ and $I\simeq [\frac12,1]$, $H$ and $H'$ give us maps $[0,\frac12]\times X \simeq I\times X\xrightarrow{H} Y$ and $[0,\frac12]\times X \simeq I\times X\xrightarrow{H'} Y$ respectively. By the assumption on $H_1$ and $H'_0$, we get a well-defined function $H''\colon I\times X\to Y$, which is then continuous by the Exercise. It is a simple check to see it is a homotopy from $H_0$ to $H'_1$. \\
For the second part, let $c\colon I\to I$ be the function $c(t) = 1-t$. Then define $H''$ to be the composite $I\times X \xrightarrow{c\times \id_X} I \times X \xrightarrow{H}Y$, which has the required properties.
\end{proof}

Contractible spaces supply many homotopies.

\begin{lemma}
Every continuous function $f\colon X\to Y$, with $Y$ a contractible space (say to $y_0\in Y$), is homotopic to a function with range contained in $\{y_0\}$.
\end{lemma}

\begin{proof}
Let $H\colon I\times Y \to Y$ be a homotopy witnessing the contractility of $Y$. Then the composite $I\times X \xrightarrow{\id_I \times f} I\times Y \xrightarrow{H} Y$ is a homotopy from $f$ to the the desired function.
\end{proof}

As a corollary, every pair of functions to a contractible space are homotopic.
Since contractible spaces are in some sense trivial, maps to them are in the same sense trivial.

An important intermediate version of this is when we consider only the case where $X$ is discrete, or is even just $\pt$:

\begin{definition}
A space $Y$ is \emph{path-connected}\marginnote{This condition is equivalent to requiring 
it for \emph{all} discrete spaces in place of $\pt$ (Exercise!)} if every map $\pt \to Y$ is homotopic 
to every other such map.
\end{definition}

Unpacking this, we see this means that for any two points $\pt \to Y$ there is a path 
$I\to Y$ connecting them, i.e.\ $H\colon I \simeq I \times \pt \to Y$.

\begin{prop}
A path-connected space is connected
\end{prop}


Let us define $[X,Y] = \{\text{continuous }f\colon X\to Y\}/\text{homotopy}$. 
The set of \emph{path components} of $Y$ is then the set $[\pt,Y]$. 
If equipped with the final topology arising from the surjective function $Y\to [\pt,Y]$, we 
denote the resulting topological space by $[\pt,Y]^{top}$.


We have been discussing topological spaces and continuous maps, but also implicitly sets and functions, not necessarily continuous, and passing between these two pictures.
In both cases we have composition that is associative, and identity maps.
Later we shall be using different classes of topological spaces in order to ensure the behaviour we require will hold.

\begin{definition}
A \emph{category} $\cC$ consists of a collection of \emph{objects} $W,X,Y,Z,\ldots$ and for each pair of objects $X,Y$ a collection of \emph{morphisms}, denoted $\cC(X,Y)$, together with the following data:
\begin{enumerate}[i)]
	
	\item For each pair $f\in \cC(X,Y)$ and $g\in \cC(Y,Z)$, a specified morphism $g\circ f\in \cC(X,Z)$,

	\item For every object a specified morphism $\id_X\in\cC(X,X)$,

\end{enumerate}
\noindent
such that:
\begin{enumerate}

	\item For every triple $h\in \cC(W,X)$, $f\in \cC(X,Y)$ and $g\in \cC(Y,Z)$ we have $g\circ(f\circ h) = (g\circ f)\circ h$,

	\item For every object $X$ and $h\in \cC(W,X)$, $f\in \cC(X,Y)$ we have $\id_X\circ h = h$ and $f\circ \id_X = f$.

\end{enumerate}
For $f\in \cC(X,Y)$ we say $X$ is the \emph{source} of $f$, $Y$ is the \emph{target} of $f$, and write $X=s(f)$, $Y=t(f)$.
We also write $f\colon X\to Y$ or $X\xrightarrow{f} Y$ to indicate that $f\in \cC(X,Y)$.
If $\cC(X,Y)$ is a set\marginnote{Most categories you will encounter are locally small} for all $X,Y$, then $\cC$ is called \emph{locally small}, and each $\cC(X,Y)$ is called a \emph{hom-set}.
\end{definition}

Many examples of categories have objects sets carrying extra structure (for instance a topology) and morphisms that are functions compatible with that structure---but not all categories.
We have seen $\Top$, the category of topological spaces (and continuous maps) and $\Set$, the category of sets (and functions), and you implicitly already know\marginnote{%
Vector spaces, (abelian) groups, manifolds, rings, \ldots}
 many other examples.

\begin{example}
The category $\Set_*$ of pointed sets $(X,x)$ ($x\in X$ a specified element) and pointed maps 
$(X,x) \to (Y,y)$ (functions $f\colon X\to Y$ with $f(x) = y)$) can be considered as consisting
of algebraic objects of the weakest sort (compare homomorphisms, linear transformations, ring 
maps, etc, which preserve distinguised elements).
\end{example}


The whole point of categories is how they relate to each other, an isolated category can only tell us so much.

\begin{definition}
Given categories $\cC$ and $\cD$, a \emph{functor} from $\cC$ to $\cD$, denoted $F\colon \cC\to \cD$ consists of the data:

\begin{enumerate}[i)]

	\item For every object $X$ of $\cD$, a specified object $F(X)$ of $\cD$,

	\item For every morphism $f\colon X\to Y$ of $\cC$, a specified morphism $F(f)\colon F(X) \to F(Y)$ of $\cD$

\end{enumerate}
\noindent
such that for every pair $f\colon X\to Y$ and $g\colon Y\to Z$ of morphisms of $\cC$, $F(g\circ f) = F(g)\circ F(f)$. This latter property is called `functoriality'. For locally small categories, the assignment on morphisms gives a function $\cC(X,Y) \to \cD(F(X),F(Y))$.\marginnote{We will use this notation even without making that assumption}
\end{definition}

We have already see at least four examples of functors:
\begin{itemize}

	\item The underlying set functor $U\colon \Top \to \Set$
	\item The discrete topology functor $\mathrm{disc}\colon \Set \to \Top$
	\item The indiscrete topology functor $\Set \to \Top$
	\item The set of connected components functor $\pi_0\colon \Top \to \Set$

\end{itemize}

\noindent
although we haven't yet seen why $\pi_0$ is a functor. We can compose functors in the obvious 
way, so get functors $\mathrm{disc}U\colon\Top\to \Top$ and $\mathrm{disc}\pi_0\colon\Top\to\Top$, 
for instance.

Here is a trivial-seeming example (aside from the identity functor).

Let $\cC$ be a category, and $\cD$ a \emph{subcategory}: a collection of some of the objects of $\cC$ and some of the morphisms of $\cC$ that form a category by themselves. Then the inclusion of the objects and the morphisms forms a functor $\cD\into \cC$, the \emph{subcategory inclusion}.
An important special case of this is when for every $X$ and $Y$ that are objects of $\cD$, every $\cD(X,Y) = \cC(X,Y)$; then $\cD$ is call a \emph{full} subcategory.
More generally we can consider a functor that is injective on objects and morphisms to define a subcategory.

\begin{example}
The\marginnote{we have used and will use this result without comment} functor 
$\mathrm{disc}\colon \Set \to \Top$ makes $\Set$ a full subcategory of $\Top$.
\end{example}

We will be later restricting attention to certain full subcategories of $\Top$.

\begin{prop}
The assignment $X\mapsto \pi_0(X)$ is a functor $\Top \to \Set$.
\end{prop}

\begin{proof}
We need to show there is an assignment $(f\colon X\to Y)\mapsto (\pi_0(f)\colon \pi_0(X) \to \pi_0(Y))$, for an arbitrary continuous function $f$.
We already know we have a function $X\to Y \to \pi_0(Y)$, and we want to show this \emph{descends} along $X\to \pi_0(X)$. Given any $\alpha \in \pi_0(X)$, it corresponds to a connected component of $X$, namely $X_\alpha$. Look at the restriction of $X\to Y\to\pi_0(Y)$ to $X_\alpha$: since $X_\alpha$ is connected, its image is exactly one point in $\pi_0(Y)$. So define $\pi_0(f)(\alpha)=[f(x)]$ for an arbitrary $x\in X_\alpha$.
This defines $\pi_0(f)$. Moreover, the following diagram \emph{commutes}:
\[
	\xymatrix{
		X\ar[r]^f \ar[d] & Y \ar[d]\\
		\pi_0(X) \ar[r]_{\pi_0(f)} & \pi_0(Y) 
	}
\]

Now we want to show that $\pi_0(g\circ f) = \pi_0(g)\circ \pi_0(f)$. Given $\alpha \in \pi_0(X)$, and $x\in X_\alpha$, then $\pi_0(f)(\alpha) = [f(x)]$. 
To define $\pi_0(g)\left(\pi_0(f)(\alpha)\right)$, we need to choose a point in the component $Y_{[f(x)]}$, so take it to be $f(x)$.
Then $\pi_0(g)\left(\pi_0(f)(\alpha)\right) = [g(f(x))]$, but this is just  $\pi_0(g\circ f)(\alpha)$.
\end{proof}

\begin{ex}
Show that $[\pt,-]\colon \Top \to \Set$ is a functor.\marginnote{Or more generally, 
$[X,-]\colon \Top\to \Set$!}
\end{ex}

Another important example of a category is the \emph{homotopy category} $\Ho$. \marginnote{exercise: prove this is a category} 
The objects are topoloical spaces, but $\Ho(X,Y) = [X,Y]$.
There is a functor $\Top \to \Ho$, which is the identy on objects, and sends a map to its homotopy class.
Objects are isomorphic in $\Ho$ iff they are homotopy equivalent.

\begin{prop}
The functor $\pi_0$ descends to a functor $\Ho \to \Set$
\end{prop}

\begin{proof}
We will prove that this is well-defined on morphism on hom-sets, the rest is routine. 
For $f,g\colon X\to Y$ be homotopic via $H\colon I\times X\to Y$, we need to show that for all $\alpha \in \pi_0(X)$, $\pi_0(f)(\alpha) = \pi_0(g)(\alpha)$. 
Take $x$ in the connected component $X_\alpha$, then we have a map $I \to I \times X \xrightarrow{H} Y \to \pi_0(Y)$ sending $0\mapsto \pi_0(f)(\alpha)$ and $1\mapsto \pi_0(g)(\alpha)$. But $I$ is connected, so $\pi_0(f)(\alpha)=\pi_0(g)(\alpha)$.
\end{proof}

As a result, if $\pi_0(X) \not\simeq \pi_0(Y)$, the spaces $X$ and $Y$ cannot be homotopy equivalent.

\begin{ex}
Show the functor $[\pt,-]\colon \Top\to \Set$ descends to $\Ho\to\Set$.
\end{ex}

Here is a useful fact about spaces.

\begin{lemma}\label{lemma:pi0s_preserve_coprods}
For all families $X_\beta$, $\beta\in J$, of spaces, we have isomorphisms
\[
	\bigsqcup_{\beta\in J} \pi_0(X_\beta) \xrightarrow{\simeq}
	\pi_0(\bigsqcup_{\beta\in J} X_\beta)
	\quad\text{and}\quad
	\bigsqcup_{\beta\in J} [\pt,X_\beta] \xrightarrow{\simeq}
	[\pt,\bigsqcup_{\beta\in J} X_\beta],
\]
with inverses induced by the family of maps $\mathrm{in}_\beta$. 
That is, $\pi_0$ and $[\pt,-]$ \emph{preserve coproducts}.
\end{lemma}

\lecturenum{4}

Recall last time:\marginnote{$\xymatrix{\Top\ar[d] \ar[r]^{\pi_0}&\Set\\ \Ho\ar[ur]_{\pi_0}}$} 
we had functors $\pi_0\colon \Top\to \Set$ and $\pi_0\colon \Ho\to \Set$.

\begin{example}
If $X$ and $Y$ are spaces with $|\pi_0(X)|< |\pi_0(Y)|$, no continuous map $X\to Y$ is 
surjective.
\end{example}

Here is an instructive example

\begin{example}

The \emph{topologist's sine curve} is the image $C$ of $[-1,1]\sqcup (0,1]\to \RR^2$ defined by
\[\begin{cases}
	y \mapsto (0,y) & y\in [-1,1]\\
	x \mapsto (x,\sin(\tfrac{1}{x})) & x\in (0,1]
\end{cases}\]
equipped with the \textbf{subspace topology}. This is a compact metric space, using the 
inherited Euclidean metric. Fact: \emph{every} continuous function $f\colon C\to \{0,1\}$ is constant.
If $f(1,\sin(1))=1$, then $f(x,\sin(x))=1$ for every $x\in (0,1]$ (as intervals are connected).
If $f(0,0)=b \in \{0,1\}$, then $f(0,y) = b$ also, for all $y\in [-1,1]$.
The sequence $(\frac{1}{n\pi},0)$ converges to $(0,0)$ in $C$, so 
$b = f(0,0) = \lim_{n\to\infty} f(\frac{1}{n\pi},0) = 1$ as $f$ is continuous and we are in a metric space.

Hence $C$ is connected, but there is \emph{no}\marginnote{Exercise: prove this by considering 
$\lim_{n\to\infty}\gamma(\frac{1}{n})$} continuous function $\gamma\colon [0,1]\to C$ with 
$\gamma(0)=(0,0)$ and $\gamma(1) = (1,\sin(1))$. Since intervals are path connected, we can 
show $[\pt,C]=\{0,1\}$, but $\pi_0(C)=*$.
\end{example}

So we have two different invariants here, and there is always a surjective map 
$[\pt,X]\to \pi_0(X)$. Moreover, the following square always commutes, for any map $X\xrightarrow{f}Y$:
\[
\xymatrix{
	[\pt,X] \ar[r]^{[\pt,f]} \ar[d] & [\pt,Y]\ar[d]\\
	\pi_0(X) \ar[r]_{\pi_0(f)} & \pi_0(Y) 
}
\]
This is thus an example of a \emph{natural transformation}.

\begin{definition}
Given functors $F,G\colon \cC \to \cD$, a natural transformation $\alpha\colon F\Rightarrow G$
consists of the data:
\begin{enumerate}[i)]
	\item For every object $X$ of $\cC$, a specified morphism 
		$\alpha_X\colon F(X) \to G(X)$ (the \emph{components} of $\alpha$)
\end{enumerate}
such that for every morphism $f\colon X\to Y$ in $\cC$, the following square commutes:
\[
\xymatrix{
	F(X) \ar[r]^{F(f)} \ar[d]_{\alpha_X} & F(Y)\ar[d]^{\alpha_Y}\\
	G(X) \ar[r]_{G(f)} & F(Y) 
}
\]
A natural transformation is called a \emph{natural isomorphism} if all of its components are 
isomorphisms.
\end{definition}

For example, there are natural transformations 
$\mathrm{disc}\;U \Rightarrow \id\colon \Top \to \Top$, 
with component at $X$ the identity map $\mathrm{disc}(U(X)) \to X$, and 
$\id\Rightarrow \mathrm{disc}\;\pi_0(X)\colon \Top \to \Top$, with component $X\to \pi_0(X)$.

We seek conditions that will define a full subcategory of $\Top$ such that the components
$[\pt,X] \to \pi_0(X)$ are isomorphisms for all spaces $X$ in the subcategory.

\begin{definition}
A space $X$ is \emph{locally path connected} (lpc) if it has a neighbourhood base of path-connected
sets.
\end{definition}

Note that a space is lpc iff every connected component is lpc.

\begin{prop}
If $X$ is a locally path connected space, then $[\pt,X]\to \pi_0(X)$ is 
an isomorphism.
\end{prop}

\begin{proof}
We are reduced to the case $X$ is connected ($\pi_0(X) = *$) and lpc, by Lemma~\ref{lemma:pi0s_preserve_coprods}, 
and the fact the case $X=\emptyset$ is trivial.
Since $X$ is connected, take $x\in X$ and define $\chi\colon X\to \{0,1\}$ by
\[
	\chi(y) = \begin{cases}
			1 & \exists y \rightsquigarrow x \\
			0 & \text{otherwise}
		\end{cases}
\]
where by $y\rightsquigarrow x$ I mean a path $\gamma\colon I\to X$ with $\gamma(0)=y$ and $\gamma(1)=x$.
We will show $\chi$ is continuous. Note that $\chi$ continuous $\Leftrightarrow$ $p^{-1}(0)$ and $p^{-1}(1)$ open $\Leftrightarrow$ $p^{-1}(1)$ open and closed. But $p^{-1}(1)=:C_x$ is the path component containing $x$.
Take $y\in C_x$ (so $\exists y\rightsquigarrow x$), and $V\ni y$ a path-connected nhd. Given $z\in V$, $\exists z\rightsquigarrow y$. Concatenate these paths to give
$z\rightsquigarrow x$, so that $z\in C_x$. This is true for all $z\in V$, so that $V\subseteq C_x$, hence $C_x$ contains a neighbourhood of each of its points, and so is open.

Conversely, take $y\in \overline{C_x}$, $V\ni y$ a path connected nhd. As $\exists z\in V\cap C_x \subseteq V$,
$\exists z\rightsquigarrow y$. But also have $V\cap C_x \subseteq C_x$, so $\exists z\rightsquigarrow x$. Concatenate paths to get $y\rightsquigarrow x$, so that $y\in C_x$.
This is true for all $y\in \overline{C_x}$, so $\overline{C_x} \subseteq C_x$ and $C_x$ is closed. Hence $\chi$ is continuous.

But $X$ is connected, and $\chi(x) = 1$, so that $\im\chi=\{1\}$, and so $C_x = \chi^{-1}(1) = X$. 
Thus $[\pt,X] \to \pi_0(X) = *$ is an isomorphism.
\end{proof}

So we will consider for the rest of this section of the course only lpc spaces, which form a full subcategory $\lpcTop \hookrightarrow \Top$.

\begin{ex}
Show that the product of lpc spaces is lpc, and that any locally convex topological vector space is lpc.
\end{ex}

Be warned: subspaces of lpc spaces may not be lpc, for instance the topologist's sine curve is a subspace of the contractible $\RR^2$.
Here is a condition that can be used to transfer lpc-ness.

\begin{definition}
A \emph{local homeomorphism} $X\xrightarrow{p} Y$ is a map of spaces such that for all $x\in X$ 
$\exists$ nhds $U\ni x$ and $V \ni p(x)$ such that $p\big|_U\colon U \xrightarrow{\sim}V$.
\end{definition}

Examples include:\marginnote{A trivial example is the inclusion of an open subspace}
 maps $\sqcup U_\alpha \to X$ induced by open an open cover $\{U_\alpha\}$ of $X$, 
the exponential map $\exp\colon \mathbb{C} \to \mathbb{C}^\times$, the $n^\text{th}$-power map $U(1) \xrightarrow{(-)^n} U(1)$
and the projection $S\times X\to X$ for $S$ discrete.

\begin{lemma}
If $X\xrightarrow{p}Y$ is a local homeomorphism, then $Y$ lpc implies  $X$ is lpc. If $p$ is surjective
then $X$ lpc implies $Y$ lpc.
\end{lemma}

One last technical point

\begin{definition}
A \emph{pointed space} is a pair $(X,x)$ where $X$ is a topological space and $x\in X$. 
A pointed map is a pointed map between the underlying pointed sets that is continuous.
These define a category $\Top_*$.
\end{definition}

A \emph{pointed homotopy} of pointed map $I\times X\to Y$, for $(X,x_0)$ and $(Y,y_0)$ pointed spaces, is required 
to satisfy $H(t,x_0) =y_0$ for all $t\in I$.
Pointed homotopy classes of pointed map are denoted $[(X,x_0),(Y,y_0)]_*$.
The category $\Ho_*$ is defined analogously to $\Ho$. 
We get a functor $\pi_0\colon \Ho_* \to\Set_*$. 

\section{Covering spaces}

Given a local homeomorphism $X\xrightarrow{p}Y$, the \emph{fibre} $p^{-1}(y)\subset X$ over $y$ has the discrete topology for every $y\in Y$.
We have no idea how $p^{-1}(\gamma(t))$ varies along a path $\gamma \colon I\to Y$. 
For example, given an arbitrary collection $B(x_\alpha,r_\alpha)\subset \RR^2$ of open balls,
$\sqcup_\alpha B(x_\alpha,r_\alpha) \to \RR^2$ is a local homeomorphism, but the fibres can
jump in size arbitrarily.
We would like fibres `close' to a given $p^{-1}(y)$ to `vary continuously'. For spaces `vary continuously' really means homotopy equivalence.
But for discrete spaces, homotopy equivalence is isomorphism.

\begin{definition}
A \emph{covering space} $Z\xrightarrow{\pi} X$ of $X$ is a map such that for all $x\in X$ 
there is a nhd $V_x \ni x$ such that $\pi^{-1}(V_x) \simeq V_x \times \pi^{-1}(x)$ over $V_x$ [[expand, maybe?]]
\end{definition}

Examples include: $\exp\colon \mathbb{C} \to \mathbb{C}^\times$, $S^2 \to \RR\mathbb{P}^2$, $U(1) \xrightarrow{(-)^n} U(1)$, covers of the join $\infty$ of two circles.

\begin{prop}
For a covering space $Z\xrightarrow{\pi}X$, if $\exists x_0 \rightsquigarrow x_1$, then $\pi^{-1}(x_0) \simeq \pi^{-1}(x_1)$.
\end{prop}

\begin{proof}
(First proof) Take $\gamma \colon I \to X$, $\gamma(i) = x_i$, and an open cover $\{U_\alpha\}$ of $X$
over which $Z$ trivialises. We thus get an open cover $\gamma^{-1}(U_\alpha)$ of $I$, which has a finite subcover $U_0,\ldots, U_N$, with $x_0 \in U_0$, $x_1 \in U_N$.
We have isomorphisms $Z_{U_n} := \pi^{-1}(U_n) \xrightarrow{\phi_n} U_n \times F_n$ with discrete spaces $F_n$.
We have $\pi^{-1}(x_0) \simeq F_0$, and for all $t\in \gamma^{-1}(U_0)$, $\pi^{-1}(\gamma(t)) \simeq F_0$.

\end{proof}

\end{document}
